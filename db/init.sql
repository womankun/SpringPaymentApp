-- データベース作成
CREATE DATABASE IF NOT EXISTS payment_db;
USE payment_db;

-- payments テーブル作成
CREATE TABLE IF NOT EXISTS payments (
  payment_id   VARCHAR(36) NOT NULL PRIMARY KEY,
  amount       DECIMAL(10,2),
  status       VARCHAR(20),
  card_number  VARCHAR(20),
  card_expiry  CHAR(4),
  created_at   TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  voided_at    TIMESTAMP NULL,
  refunded_at  TIMESTAMP NULL,
  captured_at  TIMESTAMP NULL,
  brand        VARCHAR(20)
);

-- 初期データ投入
INSERT INTO payments (
  payment_id, amount, status, card_number, card_expiry,
  created_at, voided_at, refunded_at, captured_at, brand
) VALUES
('a8f3c1b2-4d6e-4a9f-9c3d-1e2b7a6c5f0d', 420.00, 'refunded', '340000000000009', '0826', CURRENT_TIMESTAMP, NULL, CURRENT_TIMESTAMP, NULL, 'AMEX'),
('b9e2d3c4-5f7a-4b1c-8d9e-0f1a2b3c4d5e', 890.00, 'captured', '4111111111111111', '0725', CURRENT_TIMESTAMP, NULL, NULL, CURRENT_TIMESTAMP, 'VISA'),
('c1f4a5b6-6d8e-4c9f-0a1b-2c3d4e5f6a7b', 1020.00, 'authorised', '5500000000000004', '0626', CURRENT_TIMESTAMP, NULL, NULL, NULL, 'MASTER'),
('d2a6b7c8-7e9f-4d1a-2b3c-4e5f6a7b8c9d', 650.00, 'voided', '340000000000009', '0525', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, NULL, NULL, 'AMEX'),
('e3b8c9d0-8f1a-4e2b-3c4d-5f6a7b8c9d0e', 330.00, 'refunded', '4111111111111111', '0426', CURRENT_TIMESTAMP, NULL, CURRENT_TIMESTAMP, NULL, 'VISA'),
('f4c0d1e2-9a2b-4f3c-5d6e-7a8b9c0d1e2f', 870.00, 'captured', '5500000000000004', '0325', CURRENT_TIMESTAMP, NULL, NULL, CURRENT_TIMESTAMP, 'MASTER'),
('a5d2e3f4-0b3c-4a5d-6e7f-8a9b0c1d2e3f', 1230.00, 'authorised', '340000000000009', '0226', CURRENT_TIMESTAMP, NULL, NULL, NULL, 'AMEX'),
('b6e4f5a6-1c4d-4b6e-7f8a-9b0c1d2e3f4a', 740.00, 'voided', '4111111111111111', '0125', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, NULL, NULL, 'VISA'),
('c7f6a7b8-2d5e-4c7f-8a9b-0c1d2e3f4a5b', 390.00, 'refunded', '5500000000000004', '1126', CURRENT_TIMESTAMP, NULL, CURRENT_TIMESTAMP, NULL, 'MASTER'),
('d8a7b9c0-3e6f-4d8a-9b0c-1d2e3f4a5b6c', 980.00, 'captured', '340000000000009', '1025', CURRENT_TIMESTAMP, NULL, NULL, CURRENT_TIMESTAMP, 'AMEX'),
('e9b0c1d2-4f7a-4e9b-0c1d-2e3f4a5b6c7d', 1110.00, 'authorised', '4111111111111111', '0926', CURRENT_TIMESTAMP, NULL, NULL, NULL, 'VISA'),
('f0c2d3e4-5a8b-4f0c-1d2e-3f4a5b6c7d8e', 720.00, 'voided', '5500000000000004', '0825', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, NULL, NULL, 'MASTER'),
('a1d3e4f5-6b9c-4a1d-2e3f-4a5b6c7d8e9f', 430.00, 'refunded', '340000000000009', '0726', CURRENT_TIMESTAMP, NULL, CURRENT_TIMESTAMP, NULL, 'AMEX'),
('b2e5f6a7-7c0d-4b2e-3f4a-5b6c7d8e9f0a', 870.00, 'captured', '4111111111111111', '0625', CURRENT_TIMESTAMP, NULL, NULL, CURRENT_TIMESTAMP, 'VISA'),
('c3f7a8b9-8d1e-4c3f-4a5b-6c7d8e9f0a1b', 1010.00, 'authorised', '5500000000000004', '0526', CURRENT_TIMESTAMP, NULL, NULL, NULL, 'MASTER'),
('d4a9b0c1-9e2f-4d4a-5b6c-7d8e9f0a1b2c', 640.00, 'voided', '340000000000009', '0425', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, NULL, NULL, 'AMEX'),
('e5b1c2d3-0f3a-4e5b-6c7d-8e9f0a1b2c3d', 310.00, 'refunded', '4111111111111111', '0326', CURRENT_TIMESTAMP, NULL, CURRENT_TIMESTAMP, NULL, 'VISA'),
('f6c3d4e5-1a4b-4f6c-7d8e-9f0a1b2c3d4e', 920.00, 'captured', '5500000000000004', '0225', CURRENT_TIMESTAMP, NULL, NULL, CURRENT_TIMESTAMP, 'MASTER'),
('a7d5e6f7-2b6c-4a7d-8e9f-0a1b2c3d4e5f', 560.00, 'authorised', '340000000000009', '0126', CURRENT_TIMESTAMP, NULL, NULL, NULL, 'AMEX'),
('b8e7f8a9-3c8d-4b9e-0a1b-2c3d4e5f6a7b', 780.00, 'voided', '4111111111111111', '1125', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, NULL, NULL, 'VISA'),
('f1e2d3c4-a5b6-4c7d-8e9f-0a1b2c3d4e5f', 510.00, 'refunded', '340000000000009', '0826', CURRENT_TIMESTAMP, NULL, CURRENT_TIMESTAMP, NULL, 'AMEX'),
('a2b3c4d5-b6c7-4d8e-9f0a-1b2c3d4e5f6a', 870.00, 'captured', '4111111111111111', '0725', CURRENT_TIMESTAMP, NULL, NULL, CURRENT_TIMESTAMP, 'VISA'),
('b3c4d5e6-c7d8-4e9f-0a1b-2c3d4e5f6a7b', 990.00, 'authorised', '5500000000000004', '0626', CURRENT_TIMESTAMP, NULL, NULL, NULL, 'MASTER'),
('c4d5e6f7-d8e9-4f0a-1b2c-3d4e5f6a7b8c', 610.00, 'voided', '340000000000009', '0525', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, NULL, NULL, 'AMEX'),
('d5e6f7a8-e9f0-4a1b-2c3d-4e5f6a7b8c9d', 350.00, 'refunded', '4111111111111111', '0426', CURRENT_TIMESTAMP, NULL, CURRENT_TIMESTAMP, NULL, 'VISA'),
('e6f7a8b9-f0a1-4b2c-3d4e-5f6a7b8c9d0e', 910.00, 'captured', '5500000000000004', '0325', CURRENT_TIMESTAMP, NULL, NULL, CURRENT_TIMESTAMP, 'MASTER'),
('f7a8b9c0-a1b2-4c3d-5e6f-7a8b9c0d1e2f', 1180.00, 'authorised', '340000000000009', '0226', CURRENT_TIMESTAMP, NULL, NULL, NULL, 'AMEX'),
('a8b9c0d1-b2c3-4d5e-6f7a-8b9c0d1e2f3a', 770.00, 'voided', '4111111111111111', '0125', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, NULL, NULL, 'VISA'),
('b9c0d1e2-c3d4-4e5f-6a7b-8c9d0e1f2a3b', 430.00, 'refunded', '5500000000000004', '1126', CURRENT_TIMESTAMP, NULL, CURRENT_TIMESTAMP, NULL, 'MASTER'),
('c0d1e2f3-d4e5-4f6a-7b8c-9d0e1f2a3b4c', 960.00, 'captured', '340000000000009', '1025', CURRENT_TIMESTAMP, NULL, NULL, CURRENT_TIMESTAMP, 'AMEX'),
('d1e2f3a4-e5f6-4a7b-8c9d-0e1f2a3b4c5d', 1090.00, 'authorised', '4111111111111111', '0926', CURRENT_TIMESTAMP, NULL, NULL, NULL, 'VISA'),
('e2f3a4b5-f6a7-4b8c-9d0e-1f2a3b4c5d6e', 690.00, 'voided', '5500000000000004', '0825', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, NULL, NULL, 'MASTER'),
('f3a4b5c6-a7b8-4c9d-0e1f-2a3b4c5d6e7f', 470.00, 'refunded', '340000000000009', '0726', CURRENT_TIMESTAMP, NULL, CURRENT_TIMESTAMP, NULL, 'AMEX'),
('a4b5c6d7-b8c9-4d0e-1f2a-3b4c5d6e7f8a', 910.00, 'captured', '4111111111111111', '0625', CURRENT_TIMESTAMP, NULL, NULL, CURRENT_TIMESTAMP, 'VISA'),
('b5c6d7e8-c9d0-4e1f-2a3b-4c5d6e7f8a9b', 1050.00, 'authorised', '5500000000000004', '0526', CURRENT_TIMESTAMP, NULL, NULL, NULL, 'MASTER'),
('c6d7e8f9-d0e1-4f2a-3b4c-5d6e7f8a9b0c', 670.00, 'voided', '340000000000009', '0425', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, NULL, NULL, 'AMEX'),
('d7e8f9a0-e1f2-4a3b-5c6d-7e8f9a0b1c2d', 340.00, 'refunded', '4111111111111111', '0326', CURRENT_TIMESTAMP, NULL, CURRENT_TIMESTAMP, NULL, 'VISA'),
('e8f9a0b1-f2a3-4b5c-6d7e-8f9a0b1c2d3e', 970.00, 'captured', '5500000000000004', '0225', CURRENT_TIMESTAMP, NULL, NULL, CURRENT_TIMESTAMP, 'MASTER'),
('f9a0b1c2-a3b4-4c5d-6e7f-8a9b0c1d2e3f', 590.00, 'authorised', '340000000000009', '0126', CURRENT_TIMESTAMP, NULL, NULL, NULL, 'AMEX'),
('a0b1c2d3-b4c5-4d6e-7f8a-9b0c1d2e3f4a', 810.00, 'voided', '4111111111111111', '1125', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, NULL, NULL, 'VISA');
